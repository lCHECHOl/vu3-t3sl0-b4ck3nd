import{_ as y,g as u}from"./get-products.action-qfUZvrnG.js";import{d as g,e as w,w as b,f as v,c as a,a as e,h as r,s as p,F as k,r as q,g as l,u as C,j as _,o as n,y as N,x as j,t as c}from"./index-NKNyPgUu.js";import{u as P,a as B}from"./get-product-image.action-M-DTltV-.js";const F={class:"bg-white px-5 py-2 rounded"},T={class:"flex mt-2"},V=e("h1",{class:"text-3xl font-bold"},"Productos",-1),I=e("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),L=e("span",{class:"ml-2 leading-none"},"New Product",-1),Q={class:"py-8 w-full"},R={class:"shadow overflow-hidden rounded border-b border-gray-200"},z={class:"min-w-full bg-white"},E=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Imagen"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"TÃ­tulo"),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"},"Precio"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Tallas")])],-1),K={class:"text-gray-700"},D={class:"text-left py-3 px-4"},H=["src","alt"],M={class:"text-left py-3 px-4"},S={class:"text-left py-3 px-4"},$={class:"bg-blue-200 text-blue-600 py-1 px-3 rounded-full text-xs"},A={class:"text-left py-3 px-4"},X=g({__name:"ProductsView",setup(G){const h=P(),d=C(),s=w(Number(d.query.page||1)),{data:o=[]}=B({queryKey:["products",{page:s}],queryFn:()=>u(s.value)});return b(()=>d.query.page,i=>{s.value=Number(i||1),window.scrollTo({top:0,behavior:"smooth"})}),v(()=>{h.prefetchQuery({queryKey:["products",{page:s.value+1}],queryFn:()=>u(s.value+1)})}),(i,J)=>{const m=_("router-link"),x=_("RouterLink");return n(),a("div",F,[e("div",T,[V,r(m,{to:{name:"product",params:{productId:"create"}},class:"flex items-center justify-center h-10 px-4 ml-auto text-sm font-medium rounded bg-blue-500 hover:bg-blue-700 text-white"},{default:p(()=>[I,L]),_:1})]),e("div",Q,[e("div",R,[e("table",z,[E,e("tbody",K,[(n(!0),a(k,null,q(l(o),(t,f)=>(n(),a("tr",{key:t.id,class:N({"bg-gray-100":f%2===0})},[e("td",D,[e("img",{src:t.images[0],alt:t.title,class:"h-10 w-10 object-cover"},null,8,H)]),e("td",M,[r(x,{to:{name:"product",params:{productId:t.id}},class:"hover:text-blue-500 hover:underline"},{default:p(()=>[j(c(t.title),1)]),_:2},1032,["to"])]),e("td",S,[e("span",$,c(t.price),1)]),e("td",A,c(t.sizes.join(",")),1)],2))),128))])])]),r(y,{page:s.value,"has-more-data":!!l(o)&&l(o).length<10},null,8,["page","has-more-data"])])])}}});export{X as default};
